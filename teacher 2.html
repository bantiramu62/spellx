<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Teacher Dashboard — Professional</title>

  <!-- Inter font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

  <style>
    :root{
      --bg: #f6f8fa;
      --panel: #ffffff;
      --muted: #667085;
      --accent: #2563eb;
      --accent-2: #06b6d4;
      --text: #0f172a;
      --shadow: 0 6px 18px rgba(15,23,42,0.08);
      --radius: 12px;
      --glass: rgba(255,255,255,0.6);
    }
    :root[data-theme="dark"]{
      --bg: #0b1220;
      --panel: #0f1724;
      --muted: #98a0b3;
      --accent: #60a5fa;
      --accent-2: #34d399;
      --text: #e6eef8;
      --shadow: 0 6px 20px rgba(2,6,23,0.6);
      --glass: rgba(255,255,255,0.03);
    }

    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:"Inter",system-ui,-apple-system,"Segoe UI",Roboto,Arial;background:linear-gradient(180deg,var(--bg),var(--bg));color:var(--text);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}

    /* Layout grid */
    .app { display:grid; grid-template-columns:260px 1fr; grid-template-rows:64px 1fr; min-height:100vh; transition: grid-template-columns .28s ease; }

    /* NAVBAR */
    .navbar {
      grid-column:1/-1;height:64px;display:flex;align-items:center;justify-content:space-between;padding:0 20px;background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));backdrop-filter:blur(6px);box-shadow:var(--shadow);z-index:50;gap:12px;
    }
    .brand{display:flex;gap:12px;align-items:center}
    .logo{width:36px;height:36px;border-radius:8px;display:grid;place-items:center;background:linear-gradient(135deg,var(--accent),var(--accent-2));color:white;font-weight:700;font-size:16px;box-shadow:0 6px 18px rgba(37,99,235,0.18)}
    .brand h1{font-size:16px;margin:0;font-weight:700}
    .brand p{font-size:12px;color:var(--muted);margin:0}

    .nav-actions{display:flex;gap:12px;align-items:center}
    .search{display:flex;align-items:center;gap:8px;background:var(--panel);border-radius:10px;padding:8px 12px;box-shadow:var(--shadow);min-width:240px}
    .search input{border:0;outline:0;background:transparent;font-size:14px;color:var(--text)}
    .icon-btn{display:inline-grid;place-items:center;width:40px;height:40px;border-radius:10px;background:var(--panel);box-shadow:var(--shadow);cursor:pointer;border:0}
    .avatar{display:flex;align-items:center;gap:10px;padding:6px 8px;border-radius:10px;background:var(--panel);box-shadow:var(--shadow);cursor:pointer}
    .avatar img{width:36px;height:36px;border-radius:999px;object-fit:cover}

    /* SIDEBAR */
    .sidebar{background:linear-gradient(180deg,var(--panel), var(--glass));padding:18px;height:calc(100vh - 64px);overflow:auto;border-right:1px solid rgba(0,0,0,0.03);box-shadow:var(--shadow)}
    .nav-group{margin-top:6px}
    .nav-item{display:flex;align-items:center;gap:12px;padding:10px;border-radius:10px;color:var(--muted);cursor:pointer;margin-bottom:6px;font-weight:600;font-size:14px;transition:all .18s ease}
    .nav-item:hover{background:linear-gradient(90deg, rgba(0,0,0,0.03), transparent); color:var(--text); transform:translateY(-1px)}
    .nav-item.active{background:linear-gradient(90deg, rgba(37,99,235,0.12), transparent); color:var(--accent)}
    .nav-item svg{width:18px;height:18px;flex-shrink:0}

    /* MAIN */
    .main{padding:20px;overflow:auto;height:calc(100vh - 64px)}
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:16px;align-items:start}

    /* Cards */
    .card{background:var(--panel);border-radius:var(--radius);padding:16px;box-shadow:var(--shadow)}
    .card.small{grid-column:span 3}
    .card.medium{grid-column:span 6}
    .card.large{grid-column:span 12}

    @media (max-width:1100px){ .card.small{grid-column:span 6} .card.medium{grid-column:span 6} }
    @media (max-width:720px){
      .app{grid-template-columns:1fr}
      .sidebar{position:fixed;left:-320px;top:64px;height:calc(100vh-64px);width:280px;transition:left .25s ease;z-index:60}
      .sidebar.open{left:0}
      .main{padding:12px}
      .card.small,.card.medium,.card.large{grid-column:span 12}
      .navbar .brand p{display:none}
      .search{min-width:120px}
    }

    .metric{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .metric .left{display:flex;flex-direction:column;gap:6px}
    .metric .value{font-size:20px;font-weight:800}
    .metric .label{font-size:13px;color:var(--muted)}
    .chart-wrap{height:260px;padding:8px}
    .table{width:100%;border-collapse:collapse}
    .table th,.table td{padding:12px;text-align:left;border-bottom:1px solid rgba(0,0,0,0.05);font-size:13px}
    .table th{color:var(--muted);font-weight:700}
    .muted{color:var(--muted);font-size:13px}
    .flex{display:flex;align-items:center;gap:12px}
    .pill{background:linear-gradient(90deg, rgba(37,99,235,0.12), rgba(6,182,212,0.08));padding:6px 10px;border-radius:999px;font-weight:700;color:var(--accent)}
    .kpi-diff{font-size:12px;color:var(--accent);font-weight:700}
    .right{margin-left:auto}

    /* My Classes - grid & modal */
    .classes-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}
    .classes-header h2{color:var(--text)}
    .add-btn{background-color:var(--accent);color:white;padding:10px 16px;border-radius:8px;border:0;cursor:pointer;font-weight:700}
    .add-btn:hover{filter:brightness(.95)}
    .class-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}
    .class-card{background:var(--panel);padding:16px;border-radius:10px;box-shadow:var(--shadow);display:flex;flex-direction:column;gap:12px}
    .class-card h3{margin:0;color:var(--accent)}
    .class-info{font-size:13px;color:var(--muted)}
    .progress-bar{height:8px;border-radius:6px;background:linear-gradient(90deg, rgba(0,0,0,0.04), rgba(0,0,0,0.02));overflow:hidden}
    .progress{height:100%;background:linear-gradient(90deg,var(--accent),var(--accent-2));width:60%}

    /* Modal */
    .modal-backdrop{position:fixed;inset:0;background:rgba(2,6,23,0.4);display:none;align-items:center;justify-content:center;z-index:120}
    .modal{background:var(--panel);width:100%;max-width:520px;padding:18px;border-radius:12px;box-shadow:var(--shadow)}
    .form-row{display:flex;gap:10px}
    .form-row .field{flex:1;display:flex;flex-direction:column;gap:6px;margin-bottom:8px}
    .field label{font-size:13px;color:var(--muted)}
    .field input, .field select{padding:10px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);background:transparent}
    .modal-actions{display:flex;justify-content:flex-end;gap:8px;margin-top:12px}

    @media (max-width:520px){
      .form-row{flex-direction:column}
      .modal{margin:16px}
    }

    #studentsSection { padding: 20px; color: #e0e0e0; }
  .section-header { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; }
  .section-actions { display: flex; gap: 10px; margin-top: 10px; }
  
  #studentSearch {
    padding: 6px 10px;
    border-radius: 6px;
    border: 1px solid #555;
    background-color: #222;
    color: #e0e0e0;
  }
  #studentSearch::placeholder { color: #888; }
  
  .add-btn {
    padding: 6px 14px;
    background-color: #3b82f6;
    border: none;
    border-radius: 6px;
    color: #fff;
    cursor: pointer;
  }
  .add-btn:hover { background-color: #2563eb; }

  .student-cards {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    gap: 15px;
    margin-top: 20px;
  }
  .student-card {
    padding: 15px;
    border-radius: 10px;
    background-color: #1e1e2f;
    box-shadow: 0 2px 6px rgba(0,0,0,0.4);
    transition: transform 0.2s, box-shadow 0.2s;
  }
  .student-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.6);
  }
  .student-card h3, .student-card p { margin: 4px 0; }

  .status {
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 12px;
    color: #fff;
    display: inline-block;
    margin-top: 6px;
  }
  .status.active { background-color: #28a745; }
  .status.inactive { background-color: #dc3545; }

  /* Modal Dark Mode */
  .modal-backdrop {
    display: none;
    position: fixed;
    inset: 0;
    background-color: rgba(0,0,0,0.7);
    justify-content: center;
    align-items: center;
    z-index: 1000;
  }
  .modal {
    background-color: #2b2b3c;
    padding: 20px;
    border-radius: 10px;
    width: 90%;
    max-width: 500px;
    color: #e0e0e0;
  }
  .form-row { display: flex; gap: 15px; flex-wrap: wrap; margin-bottom: 15px; }
  .field { flex: 1; display: flex; flex-direction: column; }
  label { margin-bottom: 4px; color: #ccc; }
  input, select {
    padding: 6px 10px;
    border-radius: 6px;
    border: 1px solid #555;
    background-color: #222;
    color: #e0e0e0;
  }
  input::placeholder { color: #888; }

  .modal-actions {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
  }
  .icon-btn {
    padding: 6px 14px;
    background-color: #555;
    border: none;
    border-radius: 6px;
    color: #e0e0e0;
    cursor: pointer;
  }
  .icon-btn:hover { background-color: #777; }

 
/* =====================================================
   ASSIGNMENTS SECTION — MODERN UI WITH DARK/LIGHT SUPPORT
   ===================================================== */

/* 🌗 THEME VARIABLES */
:root {
  --bg-color: #ffffff;
  --card-bg: rgba(255, 255, 255, 0.8);
  --text-color: #1a1a1a;
  --muted-color: #555;
  --accent: #4a63e7;
  --accent-dark: #3549d8;
  --success: #1bb56f;
  --pending: #f39c12;
  --card-border: rgba(200, 210, 255, 0.5);
  --shadow: rgba(0, 0, 0, 0.08);
  --glass-blur: blur(10px);
}

:root[data-theme='dark'] {
  --bg-color: #0f1116;
  --card-bg: rgba(24, 26, 34, 0.8);
  --text-color: #e8e8e8;
  --muted-color: #aaa;
  --accent: #5e7fff;
  --accent-dark: #4d6bff;
  --success: #21d48f;
  --pending: #f6b93b;
  --card-border: rgba(80, 85, 120, 0.4);
  --shadow: rgba(0, 0, 0, 0.6);
  --glass-blur: blur(12px);
}

/* ✨ Section Layout */
.quiz-list {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(270px, 1fr));
  gap: 22px;
  margin-top: 28px;
}

/* 🎴 Quiz Card */
.quiz-card {
  position: relative;
  background: var(--card-bg);
  backdrop-filter: var(--glass-blur);
  border: 1px solid var(--card-border);
  border-radius: 18px;
  padding: 24px 20px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  gap: 12px;
  box-shadow: 0 6px 18px var(--shadow);
  transition: all 0.3s ease;
  overflow: hidden;
  animation: fadeIn 0.5s ease;
}

/* 🔥 Hover Effects */
.quiz-card:hover {
  transform: translateY(-6px) scale(1.02);
  box-shadow: 0 10px 25px var(--shadow);
  border-color: var(--accent);
}

/* 🌟 Decorative Glow on Hover */
.quiz-card::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 18px;
  background: radial-gradient(circle at top left, var(--accent) 0%, transparent 70%);
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: none;
}
.quiz-card:hover::before {
  opacity: 0.15;
}

/* 🧩 Icon */
.quiz-icon {
  font-size: 40px;
  margin-bottom: 8px;
  color: var(--accent);
}

/* 📘 Info Section */
.quiz-info h3 {
  font-size: 18px;
  color: var(--text-color);
  font-weight: 700;
  margin-bottom: 6px;
}
.quiz-info p {
  font-size: 14px;
  color: var(--muted-color);
  line-height: 1.5;
  margin-bottom: 4px;
}
.quiz-status span {
  font-weight: 600;
}

/* ✅ Status Colors */
.quiz-card.done .quiz-status {
  color: var(--success);
}
.quiz-card.upcoming .quiz-status {
  color: var(--pending);
}

/* 🚀 Buttons */
.quiz-btn {
  align-self: flex-start;
  border: none;
  border-radius: 10px;
  font-weight: 600;
  padding: 10px 18px;
  cursor: pointer;
  transition: all 0.25s ease;
  font-size: 14px;
  letter-spacing: 0.3px;
}

/* Completed Quiz */
.done-btn {
  background: var(--success);
  color: #fff;
  cursor: not-allowed;
  opacity: 0.9;
}

/* Upcoming Quiz */
.upcoming-btn {
  background: var(--accent);
  color: #fff;
}
.upcoming-btn:hover {
  background: var(--accent-dark);
  transform: translateY(-2px);
}

/* 💡 Subtle Shadow When Active */
.quiz-btn:active {
  transform: scale(0.98);
}

/* 🌙 Smooth Fade Animation */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* 📱 Responsive */
@media (max-width: 700px) {
  .quiz-info h3 {
    font-size: 16px;
  }
  .quiz-btn {
    width: 100%;
    text-align: center;
  }
  .quiz-card {
    padding: 18px;
  }
}

/* 🌟 My Classes Section */
.classes-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 22px;
  flex-wrap: wrap;
  gap: 10px;
}

.classes-header h2 {
  font-size: 28px;
  font-weight: 700;
  color: var(--text-color);
}

.add-btn {
  background: #ec5e05;
  color: #fff;
  border: none;
  border-radius: 8px;
  padding: 10px 16px;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.3s ease, transform 0.2s ease;
}

.add-btn:hover {
  background: #1e40af;
  transform: translateY(-2px);
}

/* 🧩 Grid Layout */
.class-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: 20px;
}

/* 🧩 Grid Layout */
.class-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 18px;
  justify-content: center;
}

/* 🧾 Class Card */
.class-card {
  flex: 0 1 30%; /* ✅ About 30% width so 3 cards fit per row */
  background: var(--card-bg);
  color: var(--text-color);
  border-radius: 14px;
  padding: 16px 18px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  transition: transform 0.2s ease, box-shadow 0.3s ease, background 0.3s ease;
  border: 1px solid var(--border-color);
  min-width: 280px; /* Prevent too small cards on narrow screens */
  max-width: 340px;
}



/* 🏷️ Class Title & Info */
.class-card h3 {
  font-size: 18px;
  font-weight: 600;
  margin-bottom: 6px;
}

.class-info {
  font-size: 14px;
  color: var(--text-muted);
}

/* 📊 Progress Bar */
.progress-bar {
  margin: 16px 0;
  height: 8px;
  background: var(--progress-bg);
  border-radius: 8px;
  overflow: hidden;
}

.progress {
  height: 100%;
  background: linear-gradient(90deg, #f50e02, #4f46e5);
  border-radius: 8px;
  transition: width 0.4s ease;
}

/* 🔘 Buttons inside card */
.view-btn {
  background: #22c55e;
  color: #fff;
  border: none;
  border-radius: 6px;
  padding: 8px 12px;
  font-size: 13px;
  cursor: pointer;
  transition: background 0.3s ease;
}

.view-btn:hover {
  background: #16a34a;
}

.icon-btn {
  background: transparent;
  border: none;
  font-size: 18px;
  cursor: pointer;
  color: var(--icon-color);
  transition: color 0.3s ease;
}

.icon-btn:hover {
  color: #ef4444;
}

/* 💡 Text Colors */
.muted {
  color: var(--text-muted);
}

/* 🎨 Light Theme */
:root {
  --card-bg: #ffffff;
  --text-color: #1f2937;
  --text-muted: #6b7280;
  --border-color: #e5e7eb;
  --progress-bg: #e5e7eb;
  --icon-color: #4b5563;
}

/* 🌙 Dark Theme */
[data-theme="dark"] {
  --card-bg: #1e1e2f;
  --text-color: #f3f4f6;
  --text-muted: #9ca3af;
  --border-color: #2f2f45;
  --progress-bg: #2e2e44;
  --icon-color: #a1a1b5;
}

[data-theme="dark"] .class-card:hover {
  box-shadow: 0 8px 18px rgba(255,255,255,0.05);
}

.class-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 18px rgba(0,0,0,0.12);
}

/* 📱 Responsive adjustments */
@media (max-width: 1024px) {
  .class-card {
    flex: 0 1 45%; /* 2 per row */
  }
}

@media (max-width: 700px) {
  .class-card {
    flex: 0 1 100%; /* 1 per row */
  }
}

/**************************************
 * GLOBAL STYLES
 **************************************/
:root {
  --bg: #f9fafb;
  --card-bg: #ffffff;
  --border: #e5e7eb;
  --text: #111827;
  --muted: #6b7280;
  --accent: #3b82f6;
  --accent-2: #2563eb;
  --success: #10b981;
  --warning: #f59e0b;
  --danger: #ef4444;
  --radius: 12px;
  --shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
  --transition: all 0.2s ease-in-out;
  --font: 'Inter', 'Poppins', sans-serif;
}

body {
  font-family: var(--font);
  background: var(--bg);
  color: var(--text);
  margin: 0;
  padding: 0;
  line-height: 1.5;
}

/**************************************
 * MAIN GRID LAYOUT
 **************************************/
.main {
  padding: 24px;
}

.grid {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 16px;
  align-items: start;
}

/**************************************
 * CARD COMPONENT
 **************************************/
.card {
  background: var(--card-bg);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 16px 20px;
  transition: var(--transition);
}

.card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
}

.card.small {
  min-height: 110px;
}

.card.medium {
  min-height: 240px;
}

.card.large {
  padding: 20px;
}

/**************************************
 * TEXT STYLES
 **************************************/
.muted {
  color: var(--muted);
}

.value {
  font-size: 22px;
  font-weight: 700;
  color: var(--text);
}

/**************************************
 * BADGES / PILLS
 **************************************/
.pill,
.kpi-diff {
  background: var(--accent);
  color: white;
  font-size: 13px;
  padding: 4px 10px;
  border-radius: 20px;
  font-weight: 600;
}

.kpi-diff {
  background: var(--warning);
}

/**************************************
 * TABLE
 **************************************/
.table {
  width: 100%;
  border-collapse: collapse;
  font-size: 14px;
}

.table th,
.table td {
  text-align: left;
  padding: 12px 10px;
  border-bottom: 1px solid var(--border);
}

.table th {
  font-weight: 600;
  color: var(--muted);
  background: #f3f4f6;
}

.table tr:hover {
  background: #f9fafb;
}

/**************************************
 * BUTTONS
 **************************************/
.icon-btn {
  border: none;
  background: var(--accent);
  color: white;
  padding: 6px 12px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
  transition: var(--transition);
}

.icon-btn:hover {
  background: var(--accent-2);
}

/**************************************
 * RESPONSIVE DESIGN
 **************************************/
@media (max-width: 1200px) {
  .grid {
    grid-template-columns: repeat(8, 1fr);
  }
}

@media (max-width: 900px) {
  .grid {
    grid-template-columns: repeat(4, 1fr);
  }

  .card {
    grid-column: span 4 !important;
  }

  .table th,
  .table td {
    font-size: 13px;
  }
}

@media (max-width: 600px) {
  .main {
    padding: 12px;
  }

  .grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
  }

  .card {
    grid-column: span 2 !important;
    padding: 14px;
  }

  .value {
    font-size: 18px;
  }

  .icon-btn {
    padding: 5px 10px;
    font-size: 13px;
  }

  .table {
    display: block;
    overflow-x: auto;
  }
}

/* === Performance Section Styles === */
.performance-dashboard {
  display: flex;
  flex-direction: column;
  gap: 25px;
  margin-top: 15px;
}

/* Stats Grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
  gap: 20px;
}

.stat-card {
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: 14px;
  padding: 18px;
  display: flex;
  align-items: center;
  gap: 14px;
  transition: all 0.3s ease;
}
.stat-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}
.stat-icon {
  font-size: 32px;
  text-align: center;
}
.stat-info h3 {
  font-size: 15px;
  margin: 0;
  color: var(--text-muted);
}
.stat-info p {
  font-size: 20px;
  font-weight: 600;
  margin: 2px 0 0;
}

/* Progress Bars */
.progress-section h3 {
  margin-bottom: 10px;
}
.progress-bars {
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.progress-item {
  display: flex;
  flex-direction: column;
  gap: 4px;
}
.bar {
  width: 100%;
  height: 10px;
  background: var(--border-color);
  border-radius: 10px;
  overflow: hidden;
}
.fill {
  height: 100%;
  background: linear-gradient(90deg, #4ade80, #22c55e);
  border-radius: 10px;
}
.upcoming-fill {
  width: 25%;
  background: linear-gradient(90deg, #60a5fa, #3b82f6);
}

/* Insights */
.insight-section h3 {
  margin-bottom: 10px;
}
.insight-list {
  list-style: none;
  padding: 0;
}
.insight-list li {
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: 10px;
  padding: 10px 12px;
  margin-bottom: 6px;
  transition: all 0.3s ease;
}
.insight-list li:hover {
  background: var(--hover-bg);
  transform: translateX(3px);
}

/* 🌙 Dark Theme Support */
:root {
  --card-bg: #ffffff;
  --hover-bg: #f9fafb;
  --border-color: #e5e7eb;
  --text-muted: #6b7280;
}

[data-theme="dark"] {
  --card-bg: #1f2937;
  --hover-bg: #111827;
  --border-color: #374151;
  --text-muted: #9ca3af;
}


  </style>
</head>
<body>
  <div class="app" id="app" data-theme="light">
    <!-- NAVBAR -->
    <header class="navbar" role="banner">
      <div class="brand" style="gap:10px">
        <button id="sidebarToggle" class="icon-btn" aria-label="Toggle sidebar" title="Toggle sidebar">
          <svg width="18" height="12" viewBox="0 0 18 12" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="18" height="2" rx="1" fill="currentColor"></rect><rect y="10" width="18" height="2" rx="1" fill="currentColor"></rect><rect y="5" width="12" height="2" rx="1" fill="currentColor"></rect></svg>
        </button>

        <div class="logo">TD</div>
        <div>
          <h1 style="margin:0">Teacher Dashboard</h1>
          <p style="margin:0;color:var(--muted);font-size:12px">Your class at a glance</p>
        </div>
      </div>
      <div>
          <h1 style="margin:0 ; padding-top: 10px; padding-bottom: 10px;">Sarvepalli Vidya Niketan</h1>
        </div>

      <div class="nav-actions">
        <div class="search" role="search" aria-label="Site search">
          <svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" d="M10.5 3a7.5 7.5 0 105.3 12.8l4.2 4.2 1.4-1.4-4.2-4.2A7.5 7.5 0 0010.5 3zm0 2a5.5 5.5 0 11-.001 11.001A5.5 5.5 0 0110.5 5z"/></svg>
          <input id="searchInput" placeholder="Search students, classes, assignments..." />
        </div>

        <button id="themeToggle" class="icon-btn" aria-label="Toggle theme" title="Toggle theme">
          <svg id="themeIcon" width="18" height="18" viewBox="0 0 24 24"><path fill="currentColor" d="M12 3.5a1 1 0 01.993.883L13 4.5v1a1 1 0 01-1.993.117L11 5.5v-1a1 1 0 011-1zM12 17.5a5.5 5.5 0 100-11 5.5 5.5 0 000 11zM4.5 12a1 1 0 01.117 1.993L4.5 14H3.5a1 1 0 01-.117-1.993L3.5 12h1zM20.5 12a1 1 0 01.117 1.993L20.5 14h-1a1 1 0 01-.117-1.993L19.5 12h1zM17.657 6.343a1 1 0 011.414 0l.707.707a1 1 0 01-1.414 1.414l-.707-.707a1 1 0 010-1.414zM6.636 17.364a1 1 0 011.414 0l.707.707a1 1 0 01-1.414 1.414l-.707-.707a1 1 0 010-1.414z"/></svg>
        </button>

        <button id="notifBtn" class="icon-btn" aria-label="Notifications" title="Notifications">
          <svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2a6 6 0 00-6 6v3.586L4.293 14.293A1 1 0 005 16h14a1 1 0 00.707-1.707L18 11.586V8a6 6 0 00-6-6zM7 18a5 5 0 0010 0H7z"/></svg>
        </button>

        <div class="avatar" id="profileBtn" role="button" aria-haspopup="true" title="Account">
          <img src="https://i.pravatar.cc/150?img=12" alt="Teacher avatar" />
          <div style="display:flex;flex-direction:column;line-height:1">
            <strong style="font-size:13px">Mrs. Sharma</strong>
            <span class="muted" style="font-size:12px">English</span>
          </div>
        </div>
      </div>
    </header>

    <!-- SIDEBAR -->
    <aside class="sidebar" id="sidebar" role="navigation" aria-label="Main navigation">
      <nav>
        <div class="nav-group">
          <div class="nav-item active" data-section="overview"><svg viewBox="0 0 24 24" fill="none"><path fill="currentColor" d="M3 13h8V3H3v10zm10 8h8v-6h-8v6zM3 21h8v-6H3v6zm10-18v6h8V3h-8z"/></svg><span>Overview</span></div>
          <div class="nav-item" data-section="classes"><svg viewBox="0 0 24 24" fill="none"><path fill="currentColor" d="M12 2L1 7l11 5 9-4.09V17h2V7L12 2z"/></svg><span>My Classes</span></div>
          <div class="nav-item" data-section="students"><svg viewBox="0 0 24 24" fill="none"><path fill="currentColor" d="M12 12c2.7 0 4.9-2.2 4.9-4.9S14.7 2.2 12 2.2 7.1 4.4 7.1 7.1 9.3 12 12 12zM4 20.1c0-2.7 5.3-4.1 8-4.1s8 1.4 8 4.1V22H4v-1.9z" class="nav-item" onclick="renderPlaceholder('Students')"/></svg><span>Students</span></div>
          <div class="nav-item" data-section="assignments"><svg viewBox="0 0 24 24" fill="none"><path fill="currentColor" d="M9 2h6v2H9V2zM5 6h14v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6z" class="nav-item" onclick="renderPlaceholder('Assignments')"/></svg><span>Assignments</span></div>
          <div class="nav-item" data-section="performance"><svg viewBox="0 0 24 24" fill="none"><path fill="currentColor" d="M5 12h3v7H5v-7zm6-7h3v14h-3V5zm6 4h3v10h-3V9z"/></svg><span>Performance</span></div>
          <div class="nav-item" data-section="schedule"><svg viewBox="0 0 24 24" fill="none"><path fill="currentColor" d="M7 10h5v5H7zM19 4h-1V2h-2v2H8V2H6v2H5a2 2 0 00-2 2v12a2 2 0 002 2h14a2 2 0 002-2V6a2 2 0 00-2-2z"/></svg><span>Schedule</span></div>
          <div class="nav-item" data-section="settings"><svg viewBox="0 0 24 24" fill="none"><path fill="currentColor" d="M19.4 12.9a7.9 7.9 0 000-1.8l2.1-1.6-1.9-3.3-2.5 1a8.2 8.2 0 00-1.6-.9L15 2h-6L8.5 5.3c-.5.2-1 .5-1.6.9l-2.5-1L2.5 8.5 4.6 10c0 .6-.1 1.2 0 1.8l-2.1 1.6 1.9 3.3 2.5-1c.5.4 1.1.7 1.6.9L9 22h6l1.5-3.3c.5-.2 1-.5 1.6-.9l2.5 1 1.9-3.3-2.1-1.6z"/></svg><span>Settings</span></div>
        </div>

        <div style="margin-top:18px" class="nav-group">
          <div class="muted" style="padding:10px 6px;font-weight:700">Other</div>
          <div class="nav-item" data-section="logout"><svg viewBox="0 0 24 24" fill="none"><path fill="currentColor" d="M16 13v-2H7V8l-5 4 5 4v-3zM20 3h-8v2h8v14h-8v2h8a2 2 0 002-2V5a2 2 0 00-2-2z"/></svg><span>Logout</span></div>
        </div>
      </nav>
    </aside>

    <!-- MAIN -->
    <main class="main" id="main" role="main">
      <div class="grid" id="overviewGrid" style="align-items:start">
        <!-- Overview KPIs -->
        <div class="card small" style="grid-column: span 3;">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
            <div>
              <div class="muted">Total Students</div>
              <div class="value" style="font-size:20px;font-weight:800" id="kpi-students">248</div>
            </div>
            <div class="pill">+4% this month</div>
          </div>
          <div class="muted">Active classes: 6</div>
        </div>

        <div class="card small" style="grid-column: span 3;">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
            <div>
              <div class="muted">Assignments Due</div>
              <div class="value" style="font-size:20px;font-weight:800" id="kpi-assignments">12</div>
            </div>
            <div class="kpi-diff">2 overdue</div>
          </div>
          <div class="muted">Avg. submission rate: 86%</div>
        </div>

        <div class="card small" style="grid-column: span 3;">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
            <div>
              <div class="muted">Avg. Class Score</div>
              <div class="value" id="kpi-score">78%</div>
            </div>
            <div class="pill">Stable</div>
          </div>
          <div class="muted">Highest: 92% (10A)</div>
        </div>

        <div class="card small" style="grid-column: span 3;">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
            <div>
              <div class="muted">Upcoming Sessions</div>
              <div class="value">3 Today</div>
            </div>
            <div class="kpi-diff">2 starting soon</div>
          </div>
          <div class="muted">Next: Algebra - 11:00 AM</div>
        </div>

        <!-- Chart + Recent Activity -->
        <div class="card medium" style="grid-column: span 8;">
          <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px">
            <div>
              <strong>Performance Trend</strong>
              <div class="muted" style="margin-top:4px">Average class score over last 8 weeks</div>
            </div>
            <div class="muted">Last updated: Oct 4, 2025</div>
          </div>
          <div class="chart-wrap card" style="padding:12px;">
            <canvas id="performanceChart" style="width:100%;height:220px"></canvas>
          </div>
        </div>

        <div class="card medium" style="grid-column: span 4;">
          <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:12px">
            <div>
              <strong>Recent Activity</strong>
              <div class="muted" style="margin-top:4px">Latest submissions and messages</div>
            </div>
            <button class="icon-btn" title="See all">...</button>
          </div>

          <div style="display:flex;flex-direction:column;gap:8px">
            <div style="display:flex;gap:12px;align-items:flex-start">
              <div style="width:40px;height:40px;border-radius:8px;background:linear-gradient(135deg,var(--accent),var(--accent-2));display:grid;place-items:center;color:white;font-weight:800">A</div>
              <div>
                <div style="font-weight:700">Assignment 3 submitted</div>
                <div class="muted" style="font-size:13px">Rohit Kumar — 20 mins ago</div>
              </div>
            </div>

            <div style="display:flex;gap:12px;align-items:flex-start">
              <div style="width:40px;height:40px;border-radius:8px;background:linear-gradient(135deg,#f59e0b,#f97316);display:grid;place-items:center;color:white;font-weight:800">M</div>
              <div>
                <div style="font-weight:700">Message from parent</div>
                <div class="muted" style="font-size:13px">Mrs. Mehta — 1 hr ago</div>
              </div>
            </div>

            <div style="display:flex;gap:12px;align-items:flex-start">
              <div style="width:40px;height:40px;border-radius:8px;background:linear-gradient(135deg,#10b981,#06b6d4);display:grid;place-items:center;color:white;font-weight:800">S</div>
              <div>
                <div style="font-weight:700">Student joined class</div>
                <div class="muted" style="font-size:13px">Anita — Yesterday</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Table -->
        <div class="card large" style="grid-column: span 12;">
          <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:12px">
            <div>
              <strong>Students needing attention</strong>
              <div class="muted" style="margin-top:4px">Low performance or missing submissions</div>
            </div>

            <div class="flex">
              <button class="icon-btn" title="Filter">Filter</button>
              <button class="icon-btn" title="Export">Export</button>
            </div>
          </div>

          <table class="table" role="table" aria-label="Students needing attention">
            <thead>
              <tr>
                <th>Student</th>
                <th>Class</th>
                <th>Avg. Score</th>
                <th>Missing</th>
                <th>Last Activity</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Riya Patel</strong><div class="muted" style="font-size:12px">riya@example.com</div></td>
                <td>10B</td>
                <td>55%</td>
                <td>3</td>
                <td class="muted">Oct 1, 2025</td>
                <td><button class="icon-btn" title="View">View</button></td>
              </tr>

              <tr>
                <td><strong>Vikram Singh</strong><div class="muted" style="font-size:12px">vikram@example.com</div></td>
                <td>9A</td>
                <td>48%</td>
                <td>5</td>
                <td class="muted">Sep 28, 2025</td>
                <td><button class="icon-btn" title="View">View</button></td>
              </tr>

              <tr>
                <td><strong>Neha Joshi</strong><div class="muted" style="font-size:12px">neha@example.com</div></td>
                <td>11C</td>
                <td>62%</td>
                <td>1</td>
                <td class="muted">Oct 3, 2025</td>
                <td><button class="icon-btn" title="View">View</button></td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Footer small -->
        <div style="grid-column: span 12; text-align:center; margin-top:12px" class="muted">© 2025 Teacher Dashboard — Built with ❤️</div>
      </div>
    </main>
  </div>

  <!-- My Classes modal (hidden by default) -->
  <div class="modal-backdrop" id="modalBackdrop" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <h3 id="modalTitle">Add New Class</h3>
      <div style="height:8px"></div>
      <div class="form-row">
        <div class="field">
          <label for="className">Class Name</label>
          <input id="className" placeholder="e.g., Grade 10 - Mathematics" />
        </div>
        <div class="field">
          <label for="subject">Subject</label>
          <input id="subject" placeholder="e.g., Mathematics" />
        </div>
      </div>
      <div class="form-row">
        <div class="field">
          <label for="studentsCount">Students Count</label>
          <input id="studentsCount" type="number" min="1" placeholder="e.g., 25" />
        </div>
        <div class="field">
          <label for="nextSession">Next Session</label>
          <input id="nextSession" type="date" />
        </div>
      </div>

      <div class="modal-actions">
        <button class="icon-btn" id="cancelAdd">Cancel</button>
        <button class="add-btn" id="saveAdd">Create Class</button>
      </div>
    </div>
  </div>

  <script>
    /***********************
     * Basic element refs
     ***********************/
    const sidebar = document.getElementById('sidebar');
    const sidebarToggle = document.getElementById('sidebarToggle');
    const app = document.getElementById('app');
    const themeToggle = document.getElementById('themeToggle');
    const themeIcon = document.getElementById('themeIcon');
    const profileBtn = document.getElementById('profileBtn');
    const notifBtn = document.getElementById('notifBtn');

    const main = document.getElementById('main');

    // Modal elements
    const modalBackdrop = document.getElementById('modalBackdrop');
    const classNameInput = document.getElementById('className');
    const subjectInput = document.getElementById('subject');
    const studentsCountInput = document.getElementById('studentsCount');
    const nextSessionInput = document.getElementById('nextSession');
    const saveAddBtn = document.getElementById('saveAdd');
    const cancelAddBtn = document.getElementById('cancelAdd');

    // Chart instance ref
    let performanceChart = null;

    /***********************
     * Sidebar toggle
     ***********************/
    sidebarToggle.addEventListener('click', () => {
      if (window.innerWidth <= 720) {
        sidebar.classList.toggle('open');
      } else {
        if (app.style.gridTemplateColumns && app.style.gridTemplateColumns.startsWith('80px')) {
          app.style.gridTemplateColumns = '260px 1fr';
        } else {
          app.style.gridTemplateColumns = '80px 1fr';
        }
        // toggle label visibility
        document.querySelectorAll('.sidebar .nav-item span').forEach(s => {
          if (app.style.gridTemplateColumns && app.style.gridTemplateColumns.startsWith('80px')) s.style.display = 'none';
          else s.style.display = '';
        });
      }
    });

    window.addEventListener('resize', () => {
      if (window.innerWidth > 720) sidebar.classList.remove('open');
      if (!app.style.gridTemplateColumns || app.style.gridTemplateColumns === '') {
        document.querySelectorAll('.sidebar .nav-item span').forEach(s => s.style.display = '');
      }
    });

    /***********************
     * Theme toggle and persistence
     ***********************/
    function setTheme(theme){
      document.documentElement.setAttribute('data-theme', theme);
      localStorage.setItem('td_theme', theme);
      themeIcon.innerHTML = theme === 'dark'
        ? '<path fill="currentColor" d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/>'
        : '<path fill="currentColor" d="M6.76 4.84l-1.8-1.79L4.22 3.8l1.79 1.8 0.75-0.76zM1 13h3v-2H1v2zm10 9v-3h-2v3h2zm7.24-17.16l1.8-1.79-0.74-0.76-1.8 1.79 0.74 0.76zM20 11v2h3v-2h-3zM4.22 20.2l1.79-1.8-0.74-0.76-1.8 1.79 0.75 0.77zM12 7a5 5 0 100 10 5 5 0 000-10z"/>';
    }
    const storedTheme = localStorage.getItem('td_theme') || 'light';
    setTheme(storedTheme);
    themeToggle.addEventListener('click', () => {
      const curr = document.documentElement.getAttribute('data-theme') || 'light';
      setTheme(curr === 'dark' ? 'light' : 'dark');
    });

    /***********************
     * Nav section handling
     ***********************/
    document.querySelectorAll('.sidebar .nav-item').forEach(item => {
      item.addEventListener('click', () => {
        document.querySelectorAll('.sidebar .nav-item').forEach(i => i.classList.remove('active'));
        item.classList.add('active');

        if (window.innerWidth <= 720) sidebar.classList.remove('open');

        const section = item.dataset.section;
        if (section === 'overview' || !section) renderOverview();
        else if (section === 'classes') renderClasses();
        else renderPlaceholder(section);
      });
    });

   function renderPlaceholder(section) {
  if (performanceChart) { 
    performanceChart.destroy(); 
    performanceChart = null; 
  }

  const sec = section.toLowerCase();

  switch (sec) {
    case 'students':
      main.innerHTML = `
        <div style="padding:18px" class="card large">
          <h2 style="margin-bottom:8px">Students</h2>
          <div class="section-actions">
            <input type="text" id="studentSearch" placeholder="Search students..." onkeyup="searchStudents()">
            <button class="add-btn" onclick="openStudentModal()">+ Add Student</button>
          </div>

          <div class="student-cards" id="studentsContainer">
            <div class="student-card" data-name="John Doe" data-id="S101">
              <h3>John Doe</h3>
              <p><strong>ID:</strong> S101</p>
              <p><strong>Email:</strong> john@example.com</p>
              <span class="status active">Active</span>
            </div>
            <div class="student-card" data-name="Jane Smith" data-id="S102">
              <h3>Jane Smith</h3>
              <p><strong>ID:</strong> S102</p>
              <p><strong>Email:</strong> jane@example.com</p>
              <span class="status inactive">Inactive</span>
            </div>
          </div>
        </div>

        <!-- Student Modal -->
        <div class="modal-backdrop" id="studentModal" aria-hidden="true">
          <div class="modal" role="dialog" aria-modal="true" aria-labelledby="studentModalTitle">
            <h3 id="studentModalTitle">Add New Student</h3>
            <div class="form-row">
              <div class="field">
                <label for="studentName">Full Name</label>
                <input id="studentName" placeholder="e.g., John Doe" />
              </div>
              <div class="field">
                <label for="studentID">Student ID</label>
                <input id="studentID" placeholder="e.g., S101" />
              </div>
            </div>

            <div class="form-row">
              <div class="field">
                <label for="studentEmail">Email</label>
                <input id="studentEmail" type="email" placeholder="e.g., john@example.com" />
              </div>
              <div class="field">
                <label for="studentStatus">Status</label>
                <select id="studentStatus">
                  <option value="active">Active</option>
                  <option value="inactive">Inactive</option>
                </select>
              </div>
            </div>

            <div class="modal-actions">
              <button class="icon-btn" onclick="closeStudentModal()">Cancel</button>
              <button class="add-btn" onclick="saveStudent()">Add Student</button>
            </div>
          </div>
        </div>
      `;
      break;

    case 'assignments':
      main.innerHTML = `
       <div style="padding:18px" class="card large">
  <h2>Assignments</h2>
  <p class="muted">English Grammar Quizzes</p>

  <div class="quiz-list">
    <!-- ✅ DONE QUIZZES -->
    <div class="quiz-card done">
      <div class="quiz-icon">📘</div>
      <div class="quiz-info">
        <h3>Quiz 1: Nouns and Pronouns</h3>
        <p>Understand the foundation of grammar with nouns and pronouns.</p>
        <p class="quiz-status">✅ Completed on <span>10 Sept 2025</span></p>
      </div>
      <button class="quiz-btn done-btn" disabled>Completed</button>
    </div>

    <div class="quiz-card done">
      <div class="quiz-icon">✍️</div>
      <div class="quiz-info">
        <h3>Quiz 2: Verbs and Tenses</h3>
        <p>Master verb forms and tenses with practical examples.</p>
        <p class="quiz-status">✅ Completed on <span>17 Sept 2025</span></p>
      </div>
      <button class="quiz-btn done-btn" disabled>Completed</button>
    </div>

    <div class="quiz-card done">
      <div class="quiz-icon">📖</div>
      <div class="quiz-info">
        <h3>Quiz 3: Adjectives and Adverbs</h3>
        <p>Learn how to describe and modify effectively using adjectives.</p>
        <p class="quiz-status">✅ Completed on <span>25 Sept 2025</span></p>
      </div>
      <button class="quiz-btn done-btn" disabled>Completed</button>
    </div>

    <!-- ⏳ UPCOMING QUIZZES -->
    <div class="quiz-card upcoming">
      <div class="quiz-icon">🔤</div>
      <div class="quiz-info">
        <h3>Quiz 4: Prepositions and Conjunctions</h3>
        <p>Enhance sentence connection skills with proper linking words.</p>
        <p class="quiz-status">⏳ Upcoming on <span>10 Oct 2025</span></p>
      </div>
      <button class="quiz-btn upcoming-btn">Notify Me</button>
    </div>

    <div class="quiz-card upcoming">
      <div class="quiz-icon">🗣️</div>
      <div class="quiz-info">
        <h3>Quiz 5: Active and Passive Voice</h3>
        <p>Learn to transform sentences from active to passive voice.</p>
        <p class="quiz-status">⏳ Upcoming on <span>14 Oct 2025</span></p>
      </div>
      <button class="quiz-btn upcoming-btn">Notify Me</button>
    </div>

    <div class="quiz-card upcoming">
      <div class="quiz-icon">🔠</div>
      <div class="quiz-info">
        <h3>Quiz 6: Direct and Indirect Speech</h3>
        <p>Understand how to report speech in English accurately.</p>
        <p class="quiz-status">⏳ Upcoming on <span>18 Oct 2025</span></p>
      </div>
      <button class="quiz-btn upcoming-btn">Notify Me</button>
    </div>

    <div class="quiz-card upcoming">
      <div class="quiz-icon">🧾</div>
      <div class="quiz-info">
        <h3>Quiz 7: Articles and Determiners</h3>
        <p>Practice correct usage of a, an, the, and other determiners.</p>
        <p class="quiz-status">⏳ Upcoming on <span>22 Oct 2025</span></p>
      </div>
      <button class="quiz-btn upcoming-btn">Notify Me</button>
    </div>

    <div class="quiz-card upcoming">
      <div class="quiz-icon">💬</div>
      <div class="quiz-info">
        <h3>Quiz 8: Sentence Structure</h3>
        <p>Improve sentence building with subject-verb-object clarity.</p>
        <p class="quiz-status">⏳ Upcoming on <span>26 Oct 2025</span></p>
      </div>
      <button class="quiz-btn upcoming-btn">Notify Me</button>
    </div>

    <div class="quiz-card upcoming">
      <div class="quiz-icon">📚</div>
      <div class="quiz-info">
        <h3>Quiz 9: Clauses and Phrases</h3>
        <p>Learn how clauses and phrases form meaningful sentences.</p>
        <p class="quiz-status">⏳ Upcoming on <span>30 Oct 2025</span></p>
      </div>
      <button class="quiz-btn upcoming-btn">Notify Me</button>
    </div>

    <div class="quiz-card upcoming">
      <div class="quiz-icon">🧠</div>
      <div class="quiz-info">
        <h3>Quiz 10: Punctuation and Capitalization</h3>
        <p>Test your accuracy with punctuation marks and capitalization rules.</p>
        <p class="quiz-status">⏳ Upcoming on <span>3 Nov 2025</span></p>
      </div>
      <button class="quiz-btn upcoming-btn">Notify Me</button>
    </div>
  </div>
</div>

      `;
      break;

      case 'performance':
  main.innerHTML = `
  <div style="padding: 18px" class="card large">
    <h2>Performance Overview</h2>
    <p class="muted">Track your learning progress and quiz performance.</p>

    <div class="performance-dashboard">
      
      <!-- 🧾 Quick Stats -->
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-icon">🏆</div>
          <div class="stat-info">
            <h3>Overall Score</h3>
            <p>87%</p>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">🔥</div>
          <div class="stat-info">
            <h3>Quizzes Completed</h3>
            <p>3 / 10</p>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">⏱️</div>
          <div class="stat-info">
            <h3>Average Time</h3>
            <p>4m 32s</p>
          </div>
        </div>
      </div>

      <!-- 📈 Progress Chart -->
      <div class="progress-section">
        <h3>Progress by Quiz</h3>
        <div class="progress-bars">
          <div class="progress-item">
            <span>Quiz 1</span>
            <div class="bar"><div class="fill" style="width: 95%;"></div></div>
          </div>
          <div class="progress-item">
            <span>Quiz 2</span>
            <div class="bar"><div class="fill" style="width: 85%;"></div></div>
          </div>
          <div class="progress-item">
            <span>Quiz 3</span>
            <div class="bar"><div class="fill" style="width: 82%;"></div></div>
          </div>
          <div class="progress-item upcoming">
            <span>Upcoming Quizzes</span>
            <div class="bar"><div class="fill upcoming-fill"></div></div>
          </div>
        </div>
      </div>

      <!-- 🧠 Performance Insights -->
      <div class="insight-section">
        <h3>Performance Insights</h3>
        <ul class="insight-list">
          <li>✅ Excellent grasp on **Nouns and Pronouns**.</li>
          <li>⚡ Slight improvement needed in **Tenses** accuracy.</li>
          <li>📘 Consistent performance across all attempted quizzes.</li>
          <li>🎯 Keep focusing on sentence structuring and vocabulary.</li>
        </ul>
      </div>
    </div>
  </div>
  `;
  break;


    default:
      main.innerHTML = `
        <div style="padding:18px" class="card large">
          <h2 style="margin-bottom:8px;text-transform:capitalize">${section}</h2>
          <p class="muted">This section is a placeholder. Implement as needed.</p>
        </div>
      `;
  }
}

    /***********************
     * Overview rendering (recreates chart)
     ***********************/
    function renderOverview(){
      main.innerHTML = `
        <div class="grid" style="align-items:start">
          <div class="card small" style="grid-column: span 3;">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
              <div>
                <div class="muted">Total Students</div>
                <div class="value" style="font-size:20px;font-weight:800" id="kpi-students">248</div>
              </div>
              <div class="pill">+4% this month</div>
            </div>
            <div class="muted">Active classes: 6</div>
          </div>

          <div class="card small" style="grid-column: span 3;">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
              <div>
                <div class="muted">Assignments Due</div>
                <div class="value" style="font-size:20px;font-weight:800" id="kpi-assignments">12</div>
              </div>
              <div class="kpi-diff">2 overdue</div>
            </div>
            <div class="muted">Avg. submission rate: 86%</div>
          </div>

          <div class="card small" style="grid-column: span 3;">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
              <div>
                <div class="muted">Avg. Class Score</div>
                <div class="value" id="kpi-score">78%</div>
              </div>
              <div class="pill">Stable</div>
            </div>
            <div class="muted">Highest: 92% (10A)</div>
          </div>

          <div class="card small" style="grid-column: span 3;">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
              <div>
                <div class="muted">Upcoming Sessions</div>
                <div class="value">3 Today</div>
              </div>
              <div class="kpi-diff">2 starting soon</div>
            </div>
            <div class="muted">Next: Algebra - 11:00 AM</div>
          </div>

          <div class="card medium" style="grid-column: span 8;">
            <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px">
              <div>
                <strong>Performance Trend</strong>
                <div class="muted" style="margin-top:4px">Average class score over last 8 weeks</div>
              </div>
              <div class="muted">Last updated: Oct 4, 2025</div>
            </div>
            <div class="chart-wrap card" style="padding:12px;">
              <canvas id="performanceChart" style="width:100%;height:220px"></canvas>
            </div>
          </div>

          <div class="card medium" style="grid-column: span 4;">
            <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:12px">
              <div>
                <strong>Recent Activity</strong>
                <div class="muted" style="margin-top:4px">Latest submissions and messages</div>
              </div>
              <button class="icon-btn" title="See all">...</button>
            </div>

            <div style="display:flex;flex-direction:column;gap:8px">
              <div style="display:flex;gap:12px;align-items:flex-start">
                <div style="width:40px;height:40px;border-radius:8px;background:linear-gradient(135deg,var(--accent),var(--accent-2));display:grid;place-items:center;color:white;font-weight:800">A</div>
                <div>
                  <div style="font-weight:700">Assignment 3 submitted</div>
                  <div class="muted" style="font-size:13px">Rohit Kumar — 20 mins ago</div>
                </div>
              </div>

              <div style="display:flex;gap:12px;align-items:flex-start">
                <div style="width:40px;height:40px;border-radius:8px;background:linear-gradient(135deg,#f59e0b,#f97316);display:grid;place-items:center;color:white;font-weight:800">M</div>
                <div>
                  <div style="font-weight:700">Message from parent</div>
                  <div class="muted" style="font-size:13px">Mrs. Mehta — 1 hr ago</div>
                </div>
              </div>

              <div style="display:flex;gap:12px;align-items:flex-start">
                <div style="width:40px;height:40px;border-radius:8px;background:linear-gradient(135deg,#10b981,#06b6d4);display:grid;place-items:center;color:white;font-weight:800">S</div>
                <div>
                  <div style="font-weight:700">Student joined class</div>
                  <div class="muted" style="font-size:13px">Anita — Yesterday</div>
                </div>
              </div>
            </div>
          </div>

          <div class="card large" style="grid-column: span 12;">
            <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:12px">
              <div>
                <strong>Students needing attention</strong>
                <div class="muted" style="margin-top:4px">Low performance or missing submissions</div>
              </div>

              <div class="flex">
                <button class="icon-btn" title="Filter">Filter</button>
                <button class="icon-btn" title="Export">Export</button>
              </div>
            </div>

            <table class="table" role="table" aria-label="Students needing attention">
              <thead>
                <tr>
                  <th>Student</th>
                  <th>Class</th>
                  <th>Avg. Score</th>
                  <th>Missing</th>
                  <th>Last Activity</th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong>Riya Patel</strong><div class="muted" style="font-size:12px">riya@example.com</div></td>
                  <td>10B</td>
                  <td>55%</td>
                  <td>3</td>
                  <td class="muted">Oct 1, 2025</td>
                  <td><button class="icon-btn" title="View">View</button></td>
                </tr>

                <tr>
                  <td><strong>Vikram Singh</strong><div class="muted" style="font-size:12px">vikram@example.com</div></td>
                  <td>9A</td>
                  <td>48%</td>
                  <td>5</td>
                  <td class="muted">Sep 28, 2025</td>
                  <td><button class="icon-btn" title="View">View</button></td>
                </tr>

                <tr>
                  <td><strong>Neha Joshi</strong><div class="muted" style="font-size:12px">neha@example.com</div></td>
                  <td>11C</td>
                  <td>62%</td>
                  <td>1</td>
                  <td class="muted">Oct 3, 2025</td>
                  <td><button class="icon-btn" title="View">View</button></td>
                </tr>
              </tbody>
            </table>
          </div>

          <div style="grid-column: span 12; text-align:center; margin-top:12px" class="muted">© 2025 Teacher Dashboard — Built with ❤️</div>
        </div>
      `;
      initChart();
    }

    /***********************
     * Classes rendering + operations
     ***********************/
    // sample classes datastore (in-memory)
    let classes = [
      { id:1, name:'Grade 10 - English', subject:'English', students:25, nextSession:'2025-10-07', progress:70 },
      { id:2, name:'Grade 9 - English', subject:'English', students:28, nextSession:'2025-10-08', progress:60 },
      { id:3, name:'Grade 8 - English', subject:'English', students:22, nextSession:'2025-10-06', progress:80 },
      { id:4, name:'Grade 7 - English', subject:'English', students:26, nextSession:'2025-10-05', progress:50 },
      { id:1, name:'Grade 4 - English', subject:'English', students:25, nextSession:'2025-10-07', progress:70 },
      { id:2, name:'Grade 5 - English', subject:'English', students:28, nextSession:'2025-10-08', progress:60 },
      { id:3, name:'Grade 6 - English', subject:'English', students:22, nextSession:'2025-10-06', progress:80 },
      { id:4, name:'Grade 3 - English', subject:'English', students:26, nextSession:'2025-10-05', progress:50 },
    ];

    function renderClasses(){
      // destroy chart if exists to free memory
      if (performanceChart) { performanceChart.destroy(); performanceChart = null; }

      // Build classes section
      const html = `
        <div style="padding:6px 0">
          <div class="classes-header">
            <h2>My Classes</h2>
            <div style="display:flex;gap:10px;align-items:center">
              <div class="muted">Total classes: <strong id="classesCount">${classes.length}</strong></div>
              <button class="add-btn" id="openAdd">+ Add New Class</button>
            </div>
          </div>

          <div class="class-grid" id="classGrid">
            ${classes.map(c => classCardMarkup(c)).join('')}
          </div>
        </div>
      `;
      main.innerHTML = html;

      // wire up add button & class card actions
      document.getElementById('openAdd').addEventListener('click', openAddModal);
      document.querySelectorAll('.view-class-btn').forEach(btn => btn.addEventListener('click', (e)=>{
        const id = Number(e.currentTarget.dataset.id);
        openClassDetails(id);
      }));
      document.querySelectorAll('.delete-class-btn').forEach(btn => btn.addEventListener('click', (e)=>{
        const id = Number(e.currentTarget.dataset.id);
        if (confirm('Delete this class?')) {
          classes = classes.filter(x=>x.id!==id);
          renderClasses();
        }
      }));
    }

    function classCardMarkup(c){
      return `
        <div class="class-card" data-id="${c.id}">
          <div style="display:flex;justify-content:space-between;align-items:flex-start">
            <div>
              <h3>${escapeHtml(c.name)}</h3>
              <div class="class-info">${escapeHtml(c.subject)} • ${c.students} students</div>
            </div>
            <div style="text-align:right">
              <div class="muted" style="font-size:12px">Next: ${formatDate(c.nextSession)}</div>
              <div style="height:6px"></div>
              <div style="display:flex;gap:6px;justify-content:flex-end">
                <button class="view-btn view-class-btn" data-id="${c.id}">View</button>
                <button class="icon-btn delete-class-btn" data-id="${c.id}" title="Delete">🗑</button>
              </div>
            </div>
          </div>

          <div class="progress-bar" aria-hidden="true">
            <div class="progress" style="width:${Math.max(0,Math.min(100,c.progress))}%"></div>
          </div>

          <div style="display:flex;justify-content:space-between;align-items:center">
            <div class="muted" style="font-size:13px">Progress: <strong>${c.progress}%</strong></div>
            <div style="font-size:13px;color:var(--muted)">${c.students} students</div>
          </div>
        </div>
      `;
    }

    // helper to present a date nicely; accepts yyyy-mm-dd or any date string
    function formatDate(d){
      if (!d) return '-';
      const dt = new Date(d);
      if (isNaN(dt)) return d;
      const opts = { year:'numeric', month:'short', day:'numeric' };
      return dt.toLocaleDateString(undefined, opts);
    }

    // sanitize simple strings for insertion
    function escapeHtml(str){
      if (!str) return '';
      return String(str).replace(/[&<>"']/g, function(m){ return ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'})[m]; });
    }

    // open add modal
    function openAddModal(){
      modalBackdrop.style.display = 'flex';
      modalBackdrop.setAttribute('aria-hidden','false');
      // reset fields
      classNameInput.value = '';
      subjectInput.value = '';
      studentsCountInput.value = '';
      nextSessionInput.value = '';
    }
    function closeAddModal(){
      modalBackdrop.style.display = 'none';
      modalBackdrop.setAttribute('aria-hidden','true');
    }

    cancelAddBtn.addEventListener('click', closeAddModal);
    modalBackdrop.addEventListener('click', (e)=>{ if (e.target === modalBackdrop) closeAddModal(); });

    saveAddBtn.addEventListener('click', () => {
      const name = classNameInput.value.trim();
      const subject = subjectInput.value.trim();
      const students = Number(studentsCountInput.value) || 0;
      const next = nextSessionInput.value;

      if (!name) { alert('Please enter class name'); return; }
      if (!subject) { alert('Please enter subject'); return; }
      if (!students || students < 1) { alert('Please enter valid students count'); return; }

      const newClass = { id: Date.now(), name, subject, students, nextSession: next || '-', progress: Math.floor(Math.random()*30)+40 };
      classes.unshift(newClass);
      closeAddModal();
      renderClasses();
    });

    // stub for view details
    function openClassDetails(id){
      const c = classes.find(x=>x.id===id);
      if (!c) return alert('Class not found');
      alert(`Class: ${c.name}\nSubject: ${c.subject}\nStudents: ${c.students}\nNext: ${formatDate(c.nextSession)}\nProgress: ${c.progress}%`);
    }

    /***********************
     * Chart init / re-init
     ***********************/
    function initChart(){
      const canvas = document.getElementById('performanceChart');
      if (!canvas) return;
      const ctx = canvas.getContext('2d');

      // sample data
      const labels = ["Aug 10","Aug 24","Sep 7","Sep 14","Sep 21","Sep 28","Oct 5","Oct 12"];
      const scores = [72,75,78,76,80,79,78,81];

      if (performanceChart) performanceChart.destroy();

      performanceChart = new Chart(ctx, {
        type:'line',
        data:{
          labels,
          datasets:[{
            label:'Avg. Score',
            data:scores,
            fill:true,
            tension:0.32,
            pointRadius:4,
            pointHoverRadius:6,
            borderWidth:2,
            backgroundColor: document.documentElement.getAttribute('data-theme') === 'dark'
              ? 'rgba(96,165,250,0.08)'
              : 'rgba(37,99,235,0.08)',
            borderColor: getComputedStyle(document.documentElement).getPropertyValue('--accent').trim() || '#2563eb',
            pointBackgroundColor: getComputedStyle(document.documentElement).getPropertyValue('--panel').trim() || '#fff'
          }]
        },
        options:{
          maintainAspectRatio:false,
          plugins:{legend:{display:false}, tooltip:{callbacks:{label: ctx => ctx.formattedValue + '%'}}},
          scales:{y:{beginAtZero:false,suggestedMin:40,suggestedMax:100,ticks:{callback:v=>v+'%'}}, x:{ticks:{maxRotation:0,minRotation:0}}}
        }
      });
    }

    // Update chart colors when theme changes
    const observer = new MutationObserver(() => {
      if (performanceChart) {
        performanceChart.data.datasets[0].borderColor = getComputedStyle(document.documentElement).getPropertyValue('--accent').trim();
        performanceChart.update();
      }
    });
    observer.observe(document.documentElement, { attributes:true, attributeFilter:['data-theme'] });

    // Accessibility: Esc closes mobile sidebar and modal
    window.addEventListener('keydown', (e)=>{
      if (e.key === 'Escape') {
        if (sidebar.classList.contains('open')) sidebar.classList.remove('open');
        if (modalBackdrop.style.display === 'flex') closeAddModal();
      }
    });

    /***********************
     * Initial load
     ***********************/
    // show overview by default
    renderOverview();

    // provide global functions used in other older code paths (optional)
    window.toggleSidebar = () => {
      if (window.innerWidth <= 768) sidebar.classList.toggle('open');
      else sidebar.classList.toggle('collapsed');
    };

    // small handlers for profile/notification/demo
    profileBtn.addEventListener('click', ()=> alert('Profile menu — implement as needed'));
    notifBtn.addEventListener('click', ()=> alert('Notifications — implement as needed'));

    // simple search demo
    document.getElementById('searchInput').addEventListener('keypress', (e)=>{
      if (e.key === 'Enter') {
        const q = e.target.value.trim();
        if (q) alert('Searching for: ' + q);
      }
    });


    function openStudentModal() {
    document.getElementById('studentModal').style.display = 'flex';
  }
  function closeStudentModal() {
    document.getElementById('studentModal').style.display = 'none';
    document.getElementById('studentName').value = '';
    document.getElementById('studentID').value = '';
    document.getElementById('studentEmail').value = '';
    document.getElementById('studentStatus').value = 'active';
  }

  function saveStudent() {
    const name = document.getElementById('studentName').value;
    const id = document.getElementById('studentID').value;
    const email = document.getElementById('studentEmail').value;
    const status = document.getElementById('studentStatus').value;

    if (!name || !id || !email) return alert('Please fill all fields.');

    const card = document.createElement('div');
    card.className = 'student-card';
    card.dataset.name = name;
    card.dataset.id = id;
    card.innerHTML = `
      <h3>${name}</h3>
      <p><strong>ID:</strong> ${id}</p>
      <p><strong>Email:</strong> ${email}</p>
      <span class="status ${status}">${status.charAt(0).toUpperCase() + status.slice(1)}</span>
    `;
    document.getElementById('studentsContainer').appendChild(card);
    closeStudentModal();
  }

  function searchStudents() {
    const query = document.getElementById('studentSearch').value.toLowerCase();
    document.querySelectorAll('.student-card').forEach(card => {
      const name = card.dataset.name.toLowerCase();
      const id = card.dataset.id.toLowerCase();
      card.style.display = (name.includes(query) || id.includes(query)) ? 'block' : 'none';
    });
  }

  </script>
</body>
</html>
